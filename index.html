<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PCN Prod V 1.4</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">HGS</div>
      <div>
        <div class="title">PCN Prod V 1.4</div>
        <div class="subtitle" id="envInfo"></div>
      </div>
    </div>
    <div class="userbox" id="userBox" hidden>
      <div class="usertext">
        <div class="username" id="userName"></div>
        <div class="userrole" id="userPerms"></div>
      </div>
      <button class="btn btn-outline" id="btnLogout">Salir</button>
    </div>
  </header>

  <main class="container">
    <!-- LOGIN -->
    <section class="card" id="viewLogin">
      <h2>Iniciar sesión</h2>
      <p class="muted">Selecciona tu usuario y escribe tu contraseña.</p>

      <div class="grid">
        <label class="field">
          <span>Usuario</span>
          <select id="loginUsuario"></select>
        </label>

        <label class="field">
          <span>Password</span>
          <input id="loginPassword" type="password" autocomplete="current-password" placeholder="Tu password" />
        </label>
      </div>

      <div class="actions">
        <button class="btn" id="btnLogin">Entrar</button>
        <button class="btn btn-outline" id="btnReloadUsers">Recargar usuarios</button>
      </div>

      <div class="alert" id="loginMsg" hidden></div>
    </section>

    <!-- MENU -->
    <section class="card" id="viewMenu" hidden>
      <h2>Menú</h2>
      <p class="muted">Selecciona una opción. Los botones dependen de tus permisos.</p>

      <div class="menu">
        <button class="btn" id="btnCapturas">Capturas</button>
        <button class="btn btn-outline" id="btnReportes">Reportes (pendiente)</button>
      </div>

      <div class="alert" id="menuMsg" hidden></div>
    </section>

    <!-- CAPTURAS -->
<section class="card" id="viewCapturas" hidden>
  <div class="row-between">
    <h2>Capturas</h2>
    <button class="btn btn-outline" id="btnBackMenu">Volver</button>
  </div>

  <div class="grid">
    <label class="field">
      <span>Fecha</span>
      <input id="capFecha" type="date" />
    </label>

    <label class="field">
      <span>Supervisor</span>
      <select id="capSupervisor"></select>
    </label>

    <label class="field">
      <span>Turno</span>
      <select id="capTurno"></select>
    </label>

    <label class="field">
      <span>Máquina</span>
      <select id="capMaquina"></select>
    </label>

   <label class="field">
     <span>Operador</span>
     <select id="capOperador"></select>
   </label>


    <label class="field">
      <span>Hora inicio</span>
      <input id="capHoraInicio" type="time" />
    </label>

    <label class="field">
      <span>Hora fin</span>
      <input id="capHoraFin" type="time" />
    </label>

    <label class="field">
      <span>Orden</span>
      <input id="capOrden" type="number" inputmode="numeric" />
    </label>

    <label class="field">
      <span>Estatus a reportar</span>
      <select id="capEstatusReportar"></select>
    </label>

   
  </div>

  <div class="grid" id="prodFields" hidden>
    <label class="field">
      <span>Producción OK</span>
      <input id="capProdOk" type="number" inputmode="numeric" />
    </label>
    <label class="field">
      <span>Scrap</span>
      <input id="capScrap" type="number" inputmode="numeric" />
    </label>
  </div>

  <div class="grid" id="paroFields" hidden>
    <label class="field">
      <span>Área responsable</span>
      <select id="capArea"></select>
    </label>
    <label class="field">
      <span>Motivo de paro</span>
      <select id="capMotivo"></select>
    </label>

     <label class="field">
      <span>Estatus actual</span>
      <select id="capEstatusActual"></select>
    </label>
    
  </div>

  <div class="actions">
    <button class="btn" id="btnGuardar" disabled>Guardar (siguiente paso)</button>
    <button class="btn btn-outline" id="btnLimpiar" disabled>Limpiar (siguiente paso)</button>
  </div>

  <div class="alert" id="capMsg" hidden></div>
</section>


    <footer class="footer">
      <span class="muted">API:</span>
      <code id="apiUrl"></code>
    </footer>
  </main>

  <script src="./app.js"></script>
</body>
</html>
